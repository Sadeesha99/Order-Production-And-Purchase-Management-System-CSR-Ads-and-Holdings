<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragementHead:: headTagFragment}"></head>
<head>
    <!-- Module CSS -->
    <link rel="stylesheet" href="/css/user.css">
</head>

<body class="sb-nav-fixed">

<nav th:replace="~{fragementNavBars :: topNavFragment}"></nav>
<div id="layoutSidenav">
    <div id="layoutSidenav_nav">
        <nav th:replace="~{fragementNavBars :: sideNavFragment}"></nav>
    </div>
    <div id="layoutSidenav_content">
        <main style="margin-top: 22px">
            <div class="container-fluid px-4">
                <div class="tab">
                    <ul class="nav nav-tabs nav-pills" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="tableTabButton" data-bs-toggle="tab"
                                    data-bs-target="#table-tab-pane" type="button" role="tab" aria-controls="table-tab-pane"
                                    aria-selected="true">Table
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="formTabButton" data-bs-toggle="tab" data-bs-target="#form-tab-pane"
                                    type="button" role="tab" aria-controls="form-tab-pane" aria-selected="false">Form
                            </button>
                        </li>
                    </ul>
                </div>

                <div class="tab-content">
                    <div class="tab-pane fade show active" id="table-tab-pane" role="tabpanel" aria-labelledby="table-tab" tabindex="0">
                        <!-- Table Area Start -->
                        <div class="row mt-2">
                            <div class="row-cols-md-1"></div>
                            <div class="row-cols-md-10 table-responsive" style="width: 100%;">
                                <!-- Table Start -->
                                <div class="tableDiv">
                                    <table class="table table-hover" id="tableUser">
                                        <thead class="table-active">
                                        <tr>
                                            <th>#</th>
                                            <th>UserID</th>
                                            <th>Calling Name</th>
                                            <th>User Name</th>
                                            <th>User Roles</th>
                                            <th>Status</th>
                                            <th>Modify</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tbodyUser">
                                        </tbody>
                                    </table>
                                </div>
                                <!-- Table End -->
                            </div>
                            <div class="row-cols-md-1"></div>
                        </div>
                        <!-- Table Area End -->
                    </div>
                    <div class="tab-pane fade" id="form-tab-pane" role="tabpanel" aria-labelledby="form-tab" tabindex="1">
                        <!-- Form Start -->
                        <div class="row mt-2">
                            <div class="row-cols-md-1"></div>
                            <!-- Table Start -->
                            <div class="row-cols-md-10">
                                <form onsubmit="return false" id="formUser">
                                    <!-- Auto Generated UserID -->
                                    <div class="row mt-1 ">
                                        <div class="d-flex justify-content-start">
                                            <div class="div col-6">
                                                <!-- UserID -->
                                                <div class="row d-flex">
                                                    <div class="col-4">
                                                        <label for="inputUserId" class="form-label fw-bold">
                                                            User ID : <span class="text-danger">*</span>
                                                        </label>
                                                    </div>
                                                    <div class="col-7">
                                                        <input type="text" class="form-control"
                                                               placeholder="Auto Generated UserID" id="inputUserId" required
                                                               disabled>
                                                    </div>
                                                </div>
                                                <!-- UserID End-->
                                            </div>
                                            <div class="col-4"></div>
                                            <!-- Required Label-->
                                            <div class="col-1">
                                                <span class="required"><span class="text-danger">*</span>Required</span>
                                            </div>
                                            <!-- back button section-->
                                            <div class="col-1">
                                                <button type="button" id="backButtonUserForm" style="width: 100px;"
                                                        class="btn text-primary btn-lg" onclick="userFormBackButon()"><i
                                                        class="fa-solid fa-delete-left fa-xl"></i></button>
                                            </div>
                                            <!-- back button section-->
                                            <!-- Required Label End-->
                                        </div>
                                    </div>
                                    <!-- Auto Generated UserID End-->

                                    <div id="formEditableArea">
                                        <!-- Calling Name And EmployeeId -->
                                        <div class="row mt-1 gy-2">
                                            <div class="d-flex justify-content-between">
                                                <!-- Calling Name -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputUserCallingName" class="form-label fw-bold">
                                                                Calling Name : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">
                                                            <input type="text" class="form-control"
                                                                   placeholder="Search By Calling Name" id="inputUserCallingName"
                                                                   autocomplete="off" name="inputFieldCallingName">
                                                            <div class="valid-feedback"></div>
                                                            <div class="invalid-feedback">Looks like this Calling name in
                                                                incorrect..!
                                                            </div>
                                                            <div id="divResultByCallingName" class="divSearchResult">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Calling Name End-->
                                                <!-- EmployeeID -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputEmployeeID" class="form-label fw-bold">
                                                                Employee ID : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">
                                                            <input type="text" class="form-control"
                                                                   placeholder="Search By EmployeeID" id="inputEmployeeID"
                                                                   name="inputFieldEmpno"
                                                                   autocomplete="off">
                                                            <div class="valid-feedback"></div>
                                                            <div class="invalid-feedback">Looks like this EmployeeID in incorrect..!
                                                            </div>
                                                            <div id="divResultByEmployeeId" class="divSearchResult">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- EmployeeID End-->
                                            </div>
                                        </div>
                                        <!-- Calling Name And EmployeeID End -->

                                        <!-- User Name And Enter Password -->
                                        <div class="row mt-1 gy-2">
                                            <div class="d-flex justify-content-between">
                                                <!-- User Name -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputUserName" class="form-label fw-bold">
                                                                User Name : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">
                                                            <input type="text" class="form-control" onkeyup=""
                                                                   placeholder="Select Auto Suggestions" id="inputUserName" required
                                                                   readonly>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- User Name End-->
                                                <!-- Enter Password -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputEnterPassword" class="form-label fw-bold">
                                                                Enter Password : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7 d-flex flex-row" id="passwordDiv">
                                                            <div class="col-11 justify-content-start">
                                                                <input type="password" class="form-control"
                                                                       onkeyup="textPassword(this)" placeholder="Enter Password"
                                                                       id="inputEnterPassword" maxlength="25">
                                                                <div class="valid-feedback"></div>
                                                                <div class="invalid-feedback">Password must have at least 8
                                                                    characters..!
                                                                </div>
                                                            </div>
                                                            <div class="col-1 justify-content-end" id="showEnterPassword">
                                                    <span class="input-password-show" id="pass"
                                                          onclick="showPasswordToggle(this,inputEnterPassword)"><i
                                                            class="fa-regular fa-eye" aria-hidden="true"></i></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Enter Password End-->
                                            </div>
                                        </div>
                                        <!-- User Name And Enter Password End -->

                                        <!-- User Email And Re-Enter Password -->
                                        <div class="row mt-1 gy-2">
                                            <div class="d-flex justify-content-between">
                                                <!-- User Email -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputUserEmail" class="form-label fw-bold">
                                                                Email : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">
                                                            <input type="text" class="form-control" onkeyup=""
                                                                   placeholder="Email will be auto-filled." id="inputUserEmail"
                                                                   required readonly>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- User Email End-->
                                                <!-- Re-Enter Password -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label for="inputReEnterPassword" class="form-label fw-bold">
                                                                Re-Enter Password : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7 d-flex flex-row" id="rePasswordDiv">
                                                            <div class="col-11 justify-content-start">
                                                                <input type="password" class="form-control"
                                                                       placeholder="Re-Enter Password" id="inputReEnterPassword"
                                                                       maxlength="25">
                                                                <div class="valid-feedback"></div>
                                                                <div class="invalid-feedback">Re Entered Password must be same..!
                                                                </div>
                                                            </div>
                                                            <div class="col-1 justify-content-end" id="showReEnterPassword">
                                                    <span class="input-password-show" id="repass"
                                                          onclick="showPasswordToggle(this,inputReEnterPassword)"><i
                                                            class="fa-regular fa-eye" aria-hidden="true"></i></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Re-Enter Password End-->
                                            </div>
                                        </div>
                                        <!-- User Email And Re-Enter Password End -->

                                        <!-- UserRole / Assigned User Roles / UserStatus / Updated Time and Date -->
                                        <div class="row mt-1 gy-2">
                                            <div class="d-flex justify-content-between">
                                                <!-- UserRole / UserStatus / Updated Time and Date -->
                                                <div class="col-6">
                                                    <!-- UserRole -->
                                                    <div class="row mt-1">
                                                        <div class="col-4">
                                                            <label for="inputUserRoles" class="form-label fw-bold">
                                                                User Roles : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-5">
                                                            <select type="select" class="form-control"
                                                                    placeholder="Select User Roles" id="inputUserRoles" onchange="">
                                                            </select>
                                                            <div class="valid-feedback"></div>
                                                            <div class="invalid-feedback">Check your role again..!</div>
                                                        </div>
                                                        <div class="col-2">
                                                            <button type="button" class="btn btn-dark text-nowrap"
                                                                    onclick="addSelectedValue()">Add Roles
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <!-- UserRole End -->
                                                    <!-- UserStatus -->
                                                    <div class="row row mt-1 gy-2">
                                                        <div class="col-4">
                                                            <label for="inputUserStatus" class="form-label fw-bold">
                                                                User Status : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">
                                                            <select type="select" class="form-control" placeholder="Select User"
                                                                    id="inputUserStatus"
                                                                    onchange="selectDynamicValidator(this,'user','user_status_id')">
                                                            </select>
                                                            <div class="valid-feedback"></div>
                                                            <div class="invalid-feedback">Please select account status..!</div>
                                                        </div>
                                                    </div>
                                                    <!-- UserStatus End-->

                                                </div>
                                                <!-- UserRole / UserStatus / Updated Time and Date End-->
                                                <!-- Assigned User Roles -->
                                                <div class="col-6">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-4">
                                                            <label id="inputAssignedRolesLabel" class="form-label fw-bold">
                                                                Assigned Roles : <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-7">

                                                            <div id="buttonContainer">
                                                                <!-- Newly created buttons will be appended here -->
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Assigned User Roles End-->
                                            </div>
                                        </div>
                                        <!-- UserRole / Assigned User Roles / UserStatus / Updated Time and Date End -->

                                        <!-- Description -->
                                        <div class="row mt-1 gy-2">
                                            <div class="d-flex justify-content-between">
                                                <div class="col-12">
                                                    <div class="row d-flex justify-content-start">
                                                        <div class="col-2">
                                                            <label for="inputUserDesicription" class="form-label fw-bold">
                                                                Description
                                                                :</label>
                                                        </div>
                                                        <div class="col-9 ">
                                                <textarea class="form-control" name="inputuserDesicription"
                                                          id="inputUserDesicription" cols="30" rows="2"
                                                          onkeyup="textValidator(this,'^.*$','user','description')"
                                                          placeholder="Enter Description"></textarea>
                                                        </div>
                                                        <div class="div col-1"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Description End -->

                                        <div class="row mt-3">
                                            <div class="col-1">
                                                <button type="reset" id="formRestBtn" class=" btn fw-bold btn-reset formClearBtn"
                                                        onclick="ClearFormButtonFunction()">
                                                    Clear
                                                </button>
                                            </div>
                                            <div class="col-9"></div>
                                            <div class="col-1">
                                                <button type="submit" id="formUpdateBtn"
                                                        class=" btn fw-bold btn-update formUpdateBtn" onclick="buttonUserUpdate()">
                                                    Update
                                                </button>
                                            </div>
                                            <div class="col-1">
                                                <button type="submit" id="formAddBtn" onclick="submitUser()"
                                                        class="btn btn-primary fw-bold btn-add formAddBtn">
                                                    Add
                                                </button>
                                            </div>
                                        </div>
                                    </div>


                                </form>
                            </div>
                            <!-- Table End -->
                            <div class="row-cols-md-1"></div>
                        </div>
                        <!-- Form End -->
                    </div>
                </div>


                <script src="script/commonFunction.js"></script>
                <script src="script/tableCommonFunctions.js"></script>
                <script src="script/validation.js"></script>
                <script src="controllerjs/user.js"></script>
            </div>
        </main>
    </div>
</div>
<script src="script/dashboard.js"></script>
</body>


</html>