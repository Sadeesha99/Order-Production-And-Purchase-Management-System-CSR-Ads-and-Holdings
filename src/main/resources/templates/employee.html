<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragementHead:: headTagFragment}"></head>
<head>
    <!-- Employee CSS -->
    <link rel="stylesheet" href="/css/employee.css">
</head>


<body class="sb-nav-fixed">

<nav th:replace="~{fragementNavBars :: topNavFragment}"></nav>
<div id="layoutSidenav">
    <div id="layoutSidenav_nav">
        <nav th:replace="~{fragementNavBars :: sideNavFragment}"></nav>
    </div>
    <div id="layoutSidenav_content">
        <main style="margin-top: 22px">
            <div class="container-fluid px-4">
                <!-- Tab links -->
                <div class="tab">
                    <ul class="nav nav-tabs nav-pills" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="tableTabButton" data-bs-toggle="tab"
                                    data-bs-target="#table-tab-pane" type="button" role="tab"
                                    aria-controls="table-tab-pane"
                                    aria-selected="true">Table
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="formTabButton" data-bs-toggle="tab"
                                    data-bs-target="#form-tab-pane"
                                    type="button" role="tab" aria-controls="form-tab-pane" aria-selected="false">Form
                            </button>
                        </li>
                    </ul>
                </div>
                <!-- Tab links -->


                <!-- Tab Content -->
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="table-tab-pane" role="tabpanel" aria-labelledby="table-tab" tabindex="0">
                        <!-- Table Area Start -->
                        <div class="row mt-2">
                            <div class="row-cols-md-1"></div>
                            <div class="row-cols-md-10 table-responsive" style="width: 100%;">
                                <!-- Table Start -->
                                <div class="tableDiv">
                                    <table class="table table-hover" id="tableEmployee">
                                        <thead class="table-active">
                                        <tr>
                                            <th>#</th>
                                            <th>Emp No.</th>
                                            <th>Full Name</th>
                                            <th>NIC</th>
                                            <th>Has User Account</th>
                                            <th>Mobile</th>
                                            <th>Designation</th>
                                            <th>Status</th>
                                            <th>Modify</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tbodyEmlpoyee">
                                        </tbody>
                                    </table>
                                </div>
                                <!-- Table End -->
                            </div>
                            <div class="row-cols-md-1"></div>
                        </div>
                        <!-- Table Area End -->
                    </div>
                    <div class="tab-pane fade" id="form-tab-pane" role="tabpanel" aria-labelledby="form-tab"
                         tabindex="1">
                        <!-- Form Start -->
                        <div class="row mt-2">
                            <div class="row-cols-md-1"></div>
                            <!-- Table Start -->
                            <div class="row-cols-md-10">
                                <form onsubmit="return false" id="formEmployee">
                                    <!-- form onsubmit return is used to stop auto submission and then to force a manual submission -->

                                    <!-- Auto Generated EmployeeID -->
                                    <div class="row mt-1">
                                        <div class="d-flex justify-content-between">
                                            <div class="col-2">
                                                <label for="inputEmployeeId" class="form-label fw-bold">
                                                    EmployeeID : <span class="text-danger">*</span>
                                                </label>
                                            </div>
                                            <div class="col-5">
                                                <input type="text" class="form-control"
                                                       placeholder="Auto Generated EmployeeID"
                                                       id="inputEmployeeId" disabled>
                                            </div>
                                            <div class="col-4"></div>
                                            <div class="col-1">
                                                <button type="button" class="btn text-primary btn-lg" id="backButton"
                                                        style="height: 50px; width: 150px;"
                                                        onclick="backButtonEmployeeForm()"><i
                                                        class="fa-solid fa-delete-left fa-xl"></i></button>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- Auto Generated EmployeeID -->

                                    <div id="formEditableArea">
                                        <!-- Fullname And Required* Label Start-->
                                        <div class="row mt-1">
                                            <div class="d-flex">
                                                <div class="col-11">
                                                    <label for="inputFullName" class="form-label fw-bold">
                                                        Full Name : <span class="text-danger">*</span>
                                                    </label>
                                                </div>
                                                <!-- Required* Label-->
                                                <div class="col-1">
                                                    <span class="required"><span
                                                            class="text-danger">*</span>Required</span>
                                                </div>
                                            </div>
                                            <div class="col-09">
                                                <input type="text" class="form-control"
                                                       onkeyup="textFullNameValidator(this)"
                                                       placeholder="Enter Full Name" id="inputFullName" required>
                                            </div>
                                        </div>
                                        <!-- Fullname end -->

                                        <!-- Callingname/Nic/Gender/DOB -->
                                        <div class="row mt-1">
                                            <!-- Callingname Start -->
                                            <div class="col-3">
                                                <label for="inputCallingName" class="form-label fw-bold">
                                                    Calling name : <span class="text-danger">*</span>
                                                </label>
                                                <input type="text" class="form-control" placeholder="Enter Calling Name"
                                                       id="inputCallingName" onkeyup="textCallingNameValidator(this)"
                                                       list="dlNameParts">
                                                <datalist id="dlNameParts"></datalist>
                                                <div class="valid-feedback">Calling Name is Acceptable !</div>
                                                <div class="invalid-feedback">Please Use a Suggestion !
                                                </div>
                                            </div>
                                            <!-- Callingname Start -->
                                            <!-- NIC Start-->
                                            <div class="col-3">
                                                <label for="inputNIC" class="form-label fw-bold">
                                                    NIC : <span class="text-danger">*</span>
                                                </label>
                                                <div class="input-group">
                                                    <span class="input-group-text"><i
                                                            class="fa-solid fa-id-card fa-1x"></i></span>
                                                    <input type="text" class="form-control"
                                                           placeholder="Enter NIC Number"
                                                           id="inputNIC" required
                                                           onkeyup="textValidator(this,'^(([5,6,7,8,9]{1}[0-9]{1}[0,1,2,3,5,6,7,8]{1}[0-9]{6}[v|V|x|X])|([1,2]{1}[0,9]{1}[0-9]{2}[0,1,2,3,5,6,7,8]{1}[0-9]{7}))*$','employee','nic')">
                                                    <div class="valid-feedback">Valid NIC !</div>
                                                    <div class="invalid-feedback">Please Check NIC !</div>
                                                </div>
                                            </div>
                                            <!-- NIC End-->
                                            <!-- Gender Start-->
                                            <div class="col-3">
                                                <div class="row">
                                                    <label for="radioGenderMale" class="form-label fw-bold">
                                                        Gender <span class="text-danger">*</span>
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="gender"
                                                           id="radioGenderMale"
                                                           value="Male" required disabled>
                                                    <label class="form-check-label" for="radioGenderMale"
                                                           id="radioGenderMaleLabel">Male</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="gender"
                                                           id="radioGenderFemale" value="Female" required disabled>
                                                    <label class="form-check-label" for="radioGenderFemale"
                                                           id="radioGenderFemaleLabel">Female</label>
                                                </div>
                                            </div>
                                            <!-- Gender End-->
                                            <!-- Date of Birth Start-->
                                            <div class="col-3">
                                                <label for="inputDOB" class="form-label fw-bold">
                                                    Date of Birth <span class="text-danger">*</span>
                                                </label>

                                                <input type="date" class="form-control"
                                                       onchange="textValidator(this, '^([1][9][789][0-9][-][0-9]{2}[-][0-9]{2})|([2][0][0][012345][-][0-9]{2}[-][0-9]{2})$','employee','dob')"
                                                       name="inputDOB" id="inputDOB" required disabled>
                                                <div class="valid-feedback">Acceptable age!</div>
                                                <div class="invalid-feedback">Not in required age group !</div>
                                            </div>
                                            <!-- Date of Birth End -->
                                        </div>
                                        <!-- Callingname/Nic/Gender/DOB -->

                                        <!-- Mobile/Land/Email -->
                                        <div class="row mt-1">
                                            <!-- Mobile -->
                                            <div class="col-4">
                                                <label for="inputMobileNo" class="form-label fw-bold">
                                                    Mobile No : <span class="text-danger">*</span>
                                                </label>
                                                <div class="input-group">
                                        <span class="input-group-text"><i
                                                class="fa-solid fa-mobile-retro fa-1x"></i></span>
                                                    <!-- textValidatior ( "This Element", "required data pattern", "Mapping Object" , "Data binding property of the object")-->
                                                    <input type="text" class="form-control"
                                                           onkeyup="textValidator(this,'^[0][7][01245678][0-9]{7}$','employee','mobile')"
                                                           placeholder="Enter Mobile No. Ex: 0771234567"
                                                           id="inputMobileNo">
                                                    <div class="valid-feedback">Mobile No. Acceptable !</div>
                                                    <div class="invalid-feedback">Please Check This No. !</div>
                                                </div>
                                            </div>
                                            <!-- Mobile End-->
                                            <!-- Land -->
                                            <div class="col-4">
                                                <label for="inputLandNo" class="form-label fw-bold">
                                                    Land No : <span class="text-danger">(Optional)</span>
                                                </label>
                                                <div class="input-group">
                                        <span class="input-group-text"><i
                                                class="fa-solid fa-phone-volume fa-1x"></i></span>
                                                    <input type="text" class="form-control"
                                                           onkeyup="textValidator(this,'^[0][1345689][012345678][0-9]{7}$','employee','landno')"
                                                           placeholder="Enter Land No" id="inputLandNo">
                                                    <div class="valid-feedback">Land No. Acceptable !</div>
                                                    <div class="invalid-feedback">Please Check This No. !</div>
                                                </div>
                                            </div>
                                            <!-- Land End-->
                                            <!-- Email -->
                                            <div class="col-4">
                                                <label for="inputEmail" class="form-label fw-bold">
                                                    Email : <span class="text-danger"></span>
                                                </label>
                                                <div class="input-group">
                                                    <span class="input-group-text"><i
                                                            class="fa-solid fa-envelope fa-1x"></i></span>
                                                    <input type="text" class="form-control"
                                                           onkeyup="textValidator(this,'^[A-Za-z0-9\\-\\_\\.]{4,30}[@][a-z]{2,10}([.][a-z]{2,10})+$','employee','email')"
                                                           placeholder="Enter Email" id="inputEmail" required>
                                                    <div class="valid-feedback">Email is Acceptable !</div>
                                                    <div class="invalid-feedback">Please Check This Email !</div>
                                                </div>
                                            </div>
                                            <!-- Email -->
                                        </div>
                                        <!-- Mobile/Land/Email -->

                                        <!-- Address/Note -->
                                        <div class="row mt-2">
                                            <!-- Address-->
                                            <div class="col-6">
                                                <label for="inputAddress" class="form-label fw-bold">Address:<span
                                                        class="text-danger">*</span></label>
                                                <input type="text" class="form-control" name="inputAddress"
                                                       onkeyup="textValidator(this,'^([A-Za-z0-9\\s\\/\\-]{1,20}[\\,][\\s])+[A-Za-z0-9\\s\\/\\-]{1,25}[.]$','employee', 'address')"
                                                       id="inputAddress" cols="30" rows="10"
                                                       placeholder="Enter Address Here"
                                                       required>
                                                <div class="valid-feedback">Address Acceptable !</div>
                                                <div class="invalid-feedback">Please Check Address Format ! Ex: 123/B,
                                                    Colombo Rd, Gampaha.
                                                </div>
                                            </div>
                                            <!-- Address End-->
                                            <!-- Note -->
                                            <div class="col-6">
                                                <label for="inputNote" class="form-label fw-bold">Note:<span
                                                        class="text-danger">(optional)</span></label>
                                                <input type="text" class="form-control" name="inputNote"
                                                       onkeyup="textValidator(this,'^([A-Za-z0-9][\\s]{0,200})+[.]$','employee','note')"
                                                       id="inputNote" cols="30" rows="10"
                                                       placeholder="Enter any special notes here..">
                                                <div class="valid-feedback">Note Entered !</div>
                                                <div class="invalid-feedback">Please Check The Valid Format ! Ex: "Your
                                                    Note."
                                                </div>
                                            </div>
                                            <!-- Note End-->
                                        </div>
                                        <!-- Address/Note End-->

                                        <!-- Designation/Civil Status/Employee status -->
                                        <div class="row mt-1">
                                            <!-- Designation -->
                                            <div class="col-4">
                                                <label for="inputDesignation" class="form-label fw-bold">
                                                    Designation : <span class="text-danger">*</span>
                                                </label>
                                                <select type="select" class="form-control"
                                                        placeholder="Select Designation"
                                                        id="inputDesignation"
                                                        onchange="selectDynamicValidator(this,'employee','designation_id')">
                                                </select>
                                            </div>
                                            <!-- Designation End-->
                                            <!-- Civil Status -->
                                            <div class="col-4">
                                                <label for="inputCivilStatus" class="form-label fw-bold">
                                                    Civil Status : <span class="text-danger">*</span>
                                                </label>
                                                <select name="civilStatus" id="inputCivilStatus" class="form-select"
                                                        placehokder="Select Civil Status"
                                                        onchange="selectStaticValidator(this,'employee','civilstatus')">
                                                    <option value="default" selected="true" disabled="disabled">Select
                                                        Civil
                                                        Status
                                                    </option>
                                                    <option value="Single">Single</option>
                                                    <option value="Married">Married</option>
                                                </select>
                                            </div>
                                            <!-- Civil Status End -->
                                            <!-- Employee Status -->
                                            <div class="col-4">
                                                <label for="inputEmployeeStatus" class="form-label fw-bold">
                                                    Employee Status : <span class="text-danger">*</span>
                                                </label>
                                                <select class="form-select form-control"
                                                        placeholder="Select Employee Status"
                                                        id="inputEmployeeStatus"
                                                        onchange="selectDynamicValidator(this,'employee','employee_status_id')">
                                                </select>
                                            </div>
                                            <!-- Employee Status End -->
                                        </div>

                                        <div class="row mt-1" style="display: none">
                                            <!-- Upload a image to user profile Start-->
                                            <div class="col-4">
                                                <label for="profilePicInput" class="form-label fw-bold">Choose a Profile
                                                    Picture
                                                    :</label>
                                                <input type="file" id="profilePicInput" name="profilePicInput"
                                                       accept="image/*">
                                            </div>
                                            <!-- Upload a image to user profile End-->
                                            <!-- Upload a police report-->
                                            <div class="col-4">
                                                <label for="policeReportInput" class="form-label fw-bold">Choose
                                                    Employee's Police
                                                    Report :<span class="text-danger"> *</span></label>
                                                <input type="file" id="policeReportInput" name="policeReportInput">
                                            </div>
                                            <!-- Upload a police report End-->
                                            <!-- Upload a CV-->
                                            <div class="col-4">
                                                <label for="CVInput" class="form-label fw-bold">Choose Employee's CV
                                                    :<span
                                                            class="text-danger"> *</span></label>
                                                <input type="file" id="CVInput" name="CVInput">
                                            </div>
                                            <!-- Upload a CV End-->


                                        </div>

                                        <div class="row mt-2">
                                            <!-- Service Starting Date -->
                                            <div class="col-4">
                                                <label for="inputStartDate" class="form-label fw-bold">
                                                    Service Start Date : <span class="text-danger">*</span>
                                                </label>
                                                <input type="date" class="form-control" id="inputStartDate"
                                                       onchange="textValidator(this, '^([2][0][2][0-4][-][0-9]{2}[-][0-9]{2})$','employee','servicestartdate')">
                                                </input>
                                            </div>
                                            <!-- Service Starting Date End -->

                                            <!-- Basic Salary  -->
                                            <div class="col-4">
                                                <label for="inputBasicSalary" class="form-label fw-bold">
                                                    Basic Salary : <span class="text-danger">*</span>
                                                </label>
                                                <input type="number" class="form-control"
                                                       placeholder="Agreed Upon Basic Salary"
                                                       min="12500" id="inputBasicSalary"
                                                       onkeyup="basicSalaryValidator(this,'employee','basicsalary')">
                                                </input>
                                                <div class="valid-feedback">Basic Salary Entered !</div>
                                                <div class="invalid-feedback">Please Check Your Input !</div>
                                            </div>
                                            <!-- Basic Salary  -->
                                            <!-- Employee Category -->
                                            <div class="col-4">
                                                <label for="inputEmployeeCategory" class="form-label fw-bold">
                                                    Employee Category : <span class="text-danger">*</span>
                                                </label>
                                                <select name="selectEmployeeCategory" id="inputEmployeeCategory"
                                                        class="form-select"
                                                        placehokder="Select Employee Category"
                                                        onchange="selectStaticValidator(this,'employee','employeecategory')">
                                                    <option value="default" selected="true" disabled="disabled">Select
                                                        Employee
                                                        Category
                                                    </option>
                                                    <option value="Probation">Probation</option>
                                                    <option value="Contract">Contract</option>
                                                    <option value="Permanent">Permanent</option>
                                                </select>
                                            </div>
                                            <!-- Employee Category End -->
                                        </div>

                                        <div class="row mt-3">
                                            <div class="col-4 text-start">
                                                <button type="reset" id="formRestBtn"
                                                        class="btn fw-bold btn-reset formClearBtn"
                                                        onclick="ClearFormButtonFunction()">
                                                    Clear
                                                </button>
                                            </div>

                                            <div class="col-8 text-end">
                                                <button type="button" id="formUpdateBtn"
                                                        class="btn fw-bold btn-update formUpdateBtn"
                                                        onclick="buttonEmployeeUpdate()">
                                                    Update
                                                </button>
                                                <button type="button" id="formAddBtn" onclick="submitEmployee()"
                                                        class="btn btn-primary fw-bold btn-add formAddBtn">
                                                    Add
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </form>
                            </div>
                            <!-- Table End -->
                            <div class="row-cols-md-1"></div>
                        </div>
                        <!-- Form End -->
                    </div>
                </div>
                <!-- Tab Content end-->

                <script src="script/commonFunction.js"></script>
                <script src="script/tableCommonFunctions.js"></script>
                <script src="script/validation.js"></script>
                <script src="script/genderBdayBySLIdNo.js"></script>
                <script src="controllerjs/employee.js"></script>
            </div>
        </main>
    </div>
</div>
<script src="script/dashboard.js"></script>
</body>


</html>